<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>

        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"></meta>
        <h:outputScript name="charts/charts.js" library="primefaces" />

        <link href="../resources/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="../resources/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
        <script src="../resources/scripts/bootstrap.min.js" type="text/javascript"></script>

        <link rel="stylesheet" href="../resources/bower_components/bootstrap/dist/css/bootstrap.min.css"></link>
        <link rel="stylesheet" href="../resources/bower_components/font-awesome/css/font-awesome.min.css"></link>
        <link rel="stylesheet" href="../resources/bower_components/Ionicons/css/ionicons.min.css"></link>

        <link href="../resources/bower_components/dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css"/>

        <link href="resources/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
        <link href="../resources/bower_components/dist/css/skins/_all-skins.min.css" rel="stylesheet" type="text/css"/>
        <script name="jquery/jquery.js" library="primefaces" type="text/javascript"></script>
        <title>Pre-Configuration</title>
    </h:head>
    <h:body>
        <div class="container-fluid">
            <div class="content">
                <div class="container-fluid bg-primary" >
                    <section class="content-header">
                        <ul class="nav navbar-nav navbar-right">
                            <b:form>

                                <p:commandLink action="#{loginbean.logout()}" styleClass="ui-button-flat p-ml-2" >
                                    <i class="fa fa-power-off" style="color: white;font-size:3rem;margin-right: 32px;margin-top: 10px"></i>
                                </p:commandLink>

                            </b:form>
                        </ul>
                        <h1>
                            <b> Pre-Configuration</b>
                        </h1>
                        <p></p>
                        <large><b>WELCOME</b> #{loginbean.fullname}</large>

                        <p:separator></p:separator>
                    </section>

                </div>
                <p></p>
                <b:container id="maincontainer" fluid="true">

                    <h:form id="wizardform">
                        <p:growl id="growl" sticky="true" showDetail="true" showSummary="true" widgetVar="growlWV">
                            <p:autoUpdate disabled="false"/>
                        </p:growl>
                        <f:metadata>
                        </f:metadata>
                        <p:wizard flowListener="#{preconfigurationViewController.onFlowProcess}" widgetVar="wiz" backLabel="prev">
                            <p:tab title="REQUEST DETAILS" id="reqWizard" titleStyleClass="firstTab">
                                <p></p>
                                <div class="row">
                                    <div class="col-md-12">
                                        <center>
                                            <p:panelGrid style="background: transparent;border-color: transparent" columns="3" >
                                                <b:inputText id="itUtilityNumber" value="#{preconfigurationViewController.utilityNumber}" placeholder="e.g UN-10123456789"  style="width: 220px"/>
                                                <b:commandButton id="btnLookup" look="warning" styleClass="ui-button-flat p-ml-2" value="SEARCH" update="wizardform:pnlSurveyInitialDetails wizardform:pnlBOMDetails" style="width: 100px;font-size:1.5rem;"  >
                                                    <f:actionListener binding="#{preconfigurationViewController.updateSelected()}"/> 
                                                <f:actionListener binding="#{bomGatewaysController.updateGtwEstimation(preconfigurationViewController.selectedRequest.activeBom)}"/>
                                                    <f:actionListener binding="#{bomMetersController.fetchBomMetersWithMeterModel(preconfigurationViewController.selectedRequest.activeBom)}"/>
                                                </b:commandButton>
                                            </p:panelGrid>
                                        </center>
                                    </div>
                                </div>

                                <p></p>
                                <!-- Info boxes -->
                                <div class="row">
                                    <div class="col-md-12">

                                        <b:panel id="pnlSurveyInitialDetails" look="primary" >

                                            <p:panelGrid style="width: 100%">
                                                <p:row>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel    value="Emirate:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="otEmirate" value="#{preconfigurationViewController.selectedRequest.emirateName}"/>
                                                    </p:column>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel    value="Premise Primary Contact:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="otContactPrimary" value="#{preconfigurationViewController.selectedRequest.contactNumberPrimary}"/>
                                                    </p:column>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel   value="Survey Permit Number:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                    <p:outputLabel id="itSurveyPermit" value=""/>
                                                    </p:column>
                                                </p:row>
                                                <p:row>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel    value="Region:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="otRegion" value="#{preconfigurationViewController.selectedRequest.emirateRegionName}"/>
                                                    </p:column>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel    value="Additional Contact:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="otContactAdditional" value="#{preconfigurationViewController.selectedRequest.contactNumberSecondary}"/>
                                                    </p:column> 
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel value="Sub Station Number:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="itSubstationNumber" value="#{preconfigurationViewController.selectedRequest.premiseSubStationNumber}"/>
                                                    </p:column>
                                                </p:row>
                                                <p:row>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel  value="Premise / Building Name:"/>

                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="itBuildingName" value="#{preconfigurationViewController.selectedRequest.premiseBuildingName}" />


                                                    </p:column>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel   value="Premise ID:"/>

                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="itPremiseID" value="#{preconfigurationViewController.selectedRequest.premiseId}" />


                                                    </p:column>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel    value="Customer / Business:"/>

                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="somCustomer" value="#{preconfigurationViewController.selectedRequest.customerCompany}" />

                                                    </p:column>
                                                </p:row>
                                                <p:row>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel   value="Plot Number:"/>

                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="itPlotNumber" value="#{preconfigurationViewController.selectedRequest.premisePlotNumber}" />
                                                    </p:column>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel   value="Premise Type:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="somPremiseType" value="#{preconfigurationViewController.selectedRequest.premiseType}" />
                                                    </p:column>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel   value="Vendor:"/>

                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="otVendor" value="#{preconfigurationViewController.selectedRequest.venodrName}" />

                                                    </p:column>
                                                </p:row>
                                                <p:row>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel   value="Location Coordinates:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:panelGrid columns="2">
                                                            <p:inplace  editor="true" id="itLatitude" style="width: 100px" >
                                                                <p:ajax event="save" listener="#{ussurveyController.saveGPSInplace()}" update="itLatitude "/>
                                                                <p:inputText value="0.0" label="text"/>
                                                            </p:inplace>    
                                                            <p:inplace  editor="true" id="itLongitude" style="width: 100px">
                                                                <p:ajax event="save" listener="#{ussurveyController.saveGPSInplace()}" update="itLongitude "/>
                                                                <p:inputText value="0.0" label="text"/>
                                                            </p:inplace>
                                                        </p:panelGrid>
                                                    </p:column>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel   value="Address:"/>
                                                    </p:column>
                                                    <p:column colspan="5">
                                                        <b:inputTextarea readonly="true" id="itAddress" value="#{preconfigurationViewController.selectedRequest.premiseAddress}" rows="1" />
                                                    </p:column>
                                                </p:row>


                                            </p:panelGrid>

                                        </b:panel>
                                    </div>
                                </div>
                                <!-- /.row -->

                                <!-- Info boxes -->
                                <div class="row">
                                    <div class="col-md-12">
                                        <b:panel id="pnlBOMDetails" look="primary" >
                                            <p:panelGrid>
                                                <p:row>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel    value="No Of Meters:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="olMeters" value="#{bomMetersController.getTotalMeters()}"/>
                                                    </p:column>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel    value="No Of Gateways:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="olGateways" value="#{bomGatewaysController.estimation.size()}"/>
                                                    </p:column>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel   value="BOM Id:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="olBOMId" value="#{preconfigurationViewController.selectedRequest.activeBom}"/>
                                                    </p:column>
                                                    <p:column style="text-align: right">
                                                        <p:outputLabel   value="BOM Status:"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:outputLabel id="olBOMStatus" value="#{preconfigurationViewController.selectedRequest.requestStatus}"/>
                                                    </p:column>
                                                </p:row>
                                            </p:panelGrid>
                                        </b:panel>
                                    </div>
                                </div>
                                <!-- /.row -->

                            </p:tab>

                            <p:tab title="CONFIGURE" id="configureTab" titleStyleClass="middleTab">
                                <p></p>
                                <b:container fluid="true">                       
                                    <center>
                                        <b>Please enter the gateway serial number, SIM ICCID and press save button on the right side of the row</b>
                                    </center>
                                    <p></p>
                                    <p:panel header="Gateways" id="pnlGateways">
                                        <p:dataTable value="#{bomGatewaysController.estimation}"
                                                     var="gatewayItem" id="tblGateways"
                                                     rows="10" rowKey="#{gatewayItem.id}" rowExpandMode="single"
                                                     paginator="true" paginatorPosition="bottom" multiViewState="true"
                                                     rowsPerPageTemplate="#{bomGatewaysController.rowsPerPageTemplate}">
                                            <p:ajax event="rowToggle" listener="#{bomMetersController.fetchGatewayBomMeterModel(gatewayItem.id)}" 
                                                    process="@this tblGateways itemSerialNumber itemSimICCID" update="tblGateways"/>
                                            <p:column headerText="Map With Meters">
                                                <p:rowToggler />
                                            </p:column>
                                            <p:column headerText="Gateway Label" selectRow="false">
                                                <h:outputText value="#{gatewayItem.gatewaysChainLabel}" />
                                            </p:column>
                                            <p:column headerText="Gateway Type" selectRow="false">
                                                <h:outputText value="#{gatewayItem.gatewaysType} - #{gatewayItem.gatewaysVendor} - #{gatewayItem.gatewaysTypeProposed}" />
                                            </p:column>
                                            <p:column headerText="Serial Number" selectRow="false">
                                                <h:inputText id="itemSerialNumber" value="#{gatewayItem.serialNumber}" required="true" requiredMessage="Serial Number is Required" rendererType="gwItemSaveBtn" class="datatable-input-text"/>
                                                <input type="hidden" value="#{gatewayItem.serialNumber}" id="itemSerialNumber#{gatewayItem.id}"/>
                                            </p:column>
                                            <p:column headerText="SIM ICCID" selectRow="false">
                                                <h:inputText id="itemSimICCID" value="#{gatewayItem.simICCID}" converterMessage="SIM ICCID - please enter digits only!" validatorMessage="SIM ICCID - minimum allowable is 19 digits" class="datatable-input-text">
                                                    <f:validateLength minimum = "19"/>
                                                </h:inputText>
                                                <input type="hidden" value="#{gatewayItem.simICCID}" id="itemSimICCID#{gatewayItem.id}"/>
                                            </p:column>
                                        <p:column headerText="Floor" selectRow="false" style="width:5%">
                                                <h:outputText class="text-uppercase" value="#{gatewayItem.gatewayFloor}" />
                                            </p:column>
                                            <p:column headerText="Room" selectRow="false" style="width:5%">
                                                <h:outputText class="text-uppercase" value="#{gatewayItem.gatewayRoom}" />
                                            </p:column>
                                            <p:column headerText="Action" selectRow="false">
                                                <p:commandButton id="gwItemSaveBtn" title="Save" icon="fa fa-save" class="button-warning p-mr-2 center-block" update="wizardform:tblGateways" process="@this wizardform:tblGateways itemSerialNumber itemSimICCID" actionListener="#{bomGatewaysController.saveGatewayEstimation(gatewayItem)}">
                                                </p:commandButton>
                                            </p:column>
                                            <p:rowExpansion id="meterRowExpansion" >
                                                <div class="card">
                                                    <h4 class="caption bg-navy-active">Associate Meters to #{gatewayItem.id} - #{gatewayItem.gatewaysChainLabel} - #{gatewayItem.gatewaysType} - #{gatewayItem.gatewaysVendor}</h4>
                                                    <p:pickList id="meterPickList"
                                                                value="#{bomMetersController.bomMeterModel}" 
                                                                var="meterItem"
                                                                itemValue="#{meterItem}" 
                                                                itemLabel="#{meterItem.bomMeterType} - #{meterItem.meterManufacturer} - #{meterItem.meterModel} - #{meterItem.meterFloor} - #{meterItem.meterRoom} - #{meterItem.meterSerial}"
                                                                converter="#{meterConverter}"
                                                                showSourceControls="true"
                                                                showTargetControls="true"
                                                                showSourceFilter="true"
                                                                showTargetFilter="true"
                                                                filterMatchMode="contains"
                                                                responsive="true"
                                                                styleClass="ui-picklist-list-source ui-picklist-list-target">
                                                        <f:facet name="sourceCaption">Available</f:facet>
                                                        <f:facet name="targetCaption">Associated</f:facet>
                                                        <p:ajax event="transfer" listener="#{bomMetersController.onTransfer}" process="meterRowExpansion meterPickList"  update="meterPickList"/>
                                                    </p:pickList>
                                                    <p:commandButton title="associate meter with the gateway" value="Save" class="btn btn-success btn-primary center-block"
                                                                     type="submit" action="#{bomMetersController.updateGtwBomMeterMapping(gatewayItem.id)}"/>
                                                    <p></p>
                                                </div>
                                            </p:rowExpansion>
                                        </p:dataTable>
                                    </p:panel>
                                </b:container>
                            </p:tab>
                            <p:tab title="SEMANTICS" id="semanticsTab" titleStyleClass="middleTab" >
                                <p></p>
                                <p:panel header="Semantic Diagram - Gateway and Meters" collapsed="false" 
                                         id="semanticsPanel">
                                    <p:organigram id="organigram"
                                                  widgetVar="organigram"
                                                  value="#{preconfigurationViewController.installationSemanticView.rootNode}"
                                                  var="node"
                                                  leafNodeConnectorHeight="#{preconfigurationViewController.installationSemanticView.leafNodeConnectorHeight}"
                                                  autoScrollToSelection="#{preconfigurationViewController.installationSemanticView.autoScrollToSelection}"
                                                  zoom="#{preconfigurationViewController.installationSemanticView.zoom}"
                                                  selection="#{preconfigurationViewController.installationSemanticView.selection}"
                                                  style="#{preconfigurationViewController.installationSemanticView.style}">
                                        <p:organigramNode type="root"
                                                          icon="fa fa-sitemap">
                                            <b:label class="label-bottom-center" value="#{node.data}" tooltip="#{node.data}" />
                                        </p:organigramNode>
                                        <p:organigramNode type="#{preconfigurationViewController.installationSemanticView.premiseType}"
                                                          styleClass="root #{preconfigurationViewController.installationSemanticView.premiseType}" 
                                                          >
                                            <b:label class="label-bottom-center" value="#{node.data}" tooltip="#{node.type} - #{node.data}"/>
                                    </p:organigramNode>
                                    <p:organigramNode type="floor" styleClass="floor" icon="fa" iconPos="left" >
                                        <b:label class="label-bottom-center" value="#{node.data}" tooltip="#{preconfigurationViewController.installationSemanticView.getFloorNodeDetails(node.data)}"/>
                                        </p:organigramNode>
                                        <p:organigramNode type="gateway" styleClass="gateway" icon="fa" iconPos="left" >
                                            <b:label class="label-bottom-center" value="#{node.data}" tooltip="#{preconfigurationViewController.installationSemanticView.getNodeGateway(node.data)}"/>
                                        </p:organigramNode>
                                    <p:organigramNode type="water" class="meter water" icon="fa">
                                            <b:label class="label-bottom-center" value="#{node.data}" tooltip="#{preconfigurationViewController.installationSemanticView.getNodeMeter(node.data)}"/>
                                        </p:organigramNode>
                                        <p:organigramNode type="electric"
                                                      class="meter electric"
                                                          icon="fa" id="electricOrganigramNode">
                                            <b:label class="label-bottom-center" value="#{node.data}" tooltip="#{preconfigurationViewController.installationSemanticView.getNodeMeter(node.data)}"/>
                                        </p:organigramNode>
                                        <p:ajax event="select" process="@this" update="@form:growl"
                                                      listener="#{preconfigurationViewController.installationSemanticView.nodeSelectListener}"/>
                                  </p:organigram>
                                </p:panel>
                            </p:tab>
                            <p:tab title="ACCEPT" id="acceptTab" titleStyleClass="middleTab">

                                <p></p>
                                <b:panel title="BOM - Gateway - Meter Acceptance" collapsible="false" id="acceptPanel" look="primary">


                                    <br></br>
                                    <center>


                                    </center>
                                </b:panel>

                            </p:tab>
                            <p:tab title="CONFIRM" titleStyleClass="lastTab" titleStyle="padding-left: 90px" id="satis">
                                <p></p>
                                <h:form>
                                    <center>
                                        <img src="../resources/images/yes-sign.png" alt=""/>
                                        <p style="font-size: x-large;font-weight: bold">
                                            Thank You !
                                        </p>
                                        <p style="font-family: sans-serif">
                                            Your Service Reference number is <p style="font-weight: bold">#{mmsRequestController.selected.mmsRequest}</p>
                                        </p>
                                        <p style="font-family: sans-serif">
                                            Activation Flag Value is <p style="font-weight: bold">1</p>
                                        </p>
                                        <p:commandButton value="Close Request"   onsuccess="popup()" style="width: 200px;height: 50px;font-weight: bold" class="btn btn-success"/>

                                    </center>
                                </h:form>
                            </p:tab> 

                        </p:wizard>

                    </h:form>
                </b:container>


            </div>
        </div>



        <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false" width="Auto">
            <center>
                Loading Request details, please wait !
                <img src="../resources/images/loading-bar.gif"/>
            </center>
        </p:dialog>
        <p:ajaxStatus onstart="viewAjaxStatusDialog();" oncomplete="hideAjaxStatusDialog();" />

    </h:body>
    <script>
        function viewAjaxStatusDialog() {
            if (!$(".ui-dialog-mask").length) {
                PF('statusDialog').show();
            }
        }
        function hideAjaxStatusDialog() {
            PF('statusDialog').hide();
        }

        function hideNextOnLastTab() {
//              if (PF('wiz').getStepIndex(PF('wiz').currentStep) === 2){
//                  PF('wiz').hideNextNav();
//              }
//              else{
//                  PF('wiz').showNextNav();
//              }
            PF('wiz').showBackNav();

        }
        function hideBackOnFirstTab() {
            if (PF('wiz').getStepIndex(PF('wiz').currentStep) === 1) {
                setTimeout(PF('wiz').hideBackNav(), 0);
            }
        }
        function popup() {
            alert("Request closed");
        }
        function updateOnlineStatus()
        {
            var str = "Online";
            document.getElementById("status").innerHTML = "You're back " + str.fontcolor("green");
            document.getElementById("status").style.borderColor = "#ff9800";
            document.getElementById("status").style.backgroundColor = "#ffc599";
        }

        function updateOfflineStatus()
        {
            var str = "Offline";
            document.getElementById("status").innerHTML = "You're " + str.fontcolor("red");
            document.getElementById("status").style.borderColor = "#ff0000";
            document.getElementById("status").style.backgroundColor = "#ffd9dc";
        }
        function validateGatewayFields() {
            var obj = document.getElementById('wizardform:tblGateways'),inputField;
            if(obj.getElementsByTagName('input')!==null){
                inputField=obj.getElementsByTagName('input')[0];
                if(inputField.id.toString().indexOf('itemSerialNumber')!==-1){
                    if ('' === inputField.value) {
                        window.alert("Serial Number is Required");
                        let plusIconCSSNode = document.getElementsByClassName('ui-icon-circle-triangle-s');
                        if(plusIconCSSNode.item(0)!==null){
                            let classNames = plusIconCSSNode.item(0).className.toString();
                            classNames = classNames.replace('ui-icon-circle-triangle-s','ui-icon-circle-triangle-e');
                            plusIconCSSNode.item(0).className=classNames.toString();
                            plusIconCSSNode.item(0).style.backgroundPosition='0 -192px';
                        }
                        return false;
                    }
                }
                if(obj.getElementsByTagName('input').length>=2){
                    inputField = obj.getElementsByTagName('input')[1];
                    if (inputField.id.toString().indexOf('itemSimICCID')!==-1){
                        if(inputField.value === ''){
                            window.alert("Sim ICCID is required");
                            let plusIconCSSNode = document.getElementsByClassName('ui-icon-circle-triangle-s');
                            if(plusIconCSSNode.item(1)!==null){
                                let classNames = plusIconCSSNode.item(1).className.toString();
                                classNames = classNames.replace('ui-icon-circle-triangle-s','ui-icon-circle-triangle-e');
                                plusIconCSSNode.item(1).className=classNames.toString();
                                plusIconCSSNode.item(1).style.backgroundPosition='0 -192px';
                            }
                        }
                     }
                }
            }
            return true;
        }
        //window.addEventListener('online', updateOnlineStatus);
        //window.addEventListener('offline', updateOfflineStatus);
    </script>
    <style type="text/css">
        .ui-steps .ui-steps-item {
            width: 24%;
        }

        .footer {
            left: 0;
            bottom: 0;
            width: 100%;
            background-color: white;
            color: black;
            text-align: center;
        }
        #activeinst{
            font-weight: bold;
            border: dotted red 2px;
            width: available;
            height: available;
        }

        .ui-state-highlight {
            text-shadow: none !important;
        }

        .ui-steps.custom {
            margin-bottom: 30px;
        }

        .ui-steps.custom .ui-steps-item .ui-menuitem-link {
            height: 10px;
            padding: 0 1em;
        }

        .ui-steps.custom .ui-steps-item .ui-steps-number {
            background-color: #0081c2;
            color: #FFFFFF;
            display: inline-block;
            width: 30px;
            border-radius: 10px;
            margin-top: -10px;
            margin-bottom: 10px;
        }

        .ui-steps.custom .ui-steps-item.ui-state-highlight .ui-steps-title {
            color: #555;
        }
        .red{
            background-color:#ff0000;
            background-image:none;
        }
        .orange{
            background-color:orange;
            background-image:none;
        }
        .yellow{
            background-color:yellow;
            background-image:none;
        }
        .className td {
            text-align: right;
        }
        .txt {
            padding-left: 8px;
            font-size: 16px;
        }

        .txtwrap {
            word-wrap: break-word;
        }
        input.scroll-left{
            width: 30px;
        }

        .navbar-brand
        {
            margin: 0;
            padding: 0;

        }

        .ui-widget, .ui-widget .ui-widget {
            font-size: 95% !important;
        }

        .navbar-brand img
        {
            max-height: 100%;
        }

        cen {
            position: absolute;
            right: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
        }
        #wrapper {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ui-tabview {
            padding: .25em;
            text-align: center;
        }

        .firstTab{
            line-height: 43px;
            text-align:left;
            height:60px;
            width:240px;
            margin-left: 150px !important;
            -webkit-clip-path: polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%);
            clip-path: polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%);
        }

        .middleTab{
            line-height: 43px;
            text-align:center;
            margin-left: -40px !important;
            height:60px;
            width:240px;
            -webkit-clip-path: polygon(75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%, 0% 0%);
            clip-path: polygon(75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%, 0% 0%);
        }

        .lastTab{
            line-height: 43px;
            text-align: right;
            margin-left: -100px !important;
            height:60px;
            width:240px;
            -webkit-clip-path: polygon(25% 0%, 100% 1%, 100% 100%, 25% 100%, 55% 50%);
            clip-path: polygon(25% 0%, 100% 0%, 100% 100%, 25% 100%, 50% 50%);
        }
        button.ui-wizard-nav-back {
            display:  inline-block;
        }
        ui-wizard-nav-back {
            display: inline-block;
        }
        /*        
        .button.ui-wizard-nav-back {
            display:  !important;
        }

        .ui-wizard-nav-back {
            display: none !important;
        }*/

        .ui-wizard-step-titles{
            margin: 0 auto;
            max-width: 1200px;
        }

        #tblGateways,tbody,tr.ui-datatable-even{
            background: none repeat scroll 0 0 beige;
            color: darkblue;
        }
        #tblGateways,tbody,tr.ui-datatable-even td input{
            background-color: beige;
        }
        #tblGateways,tbody,tr.ui-datatable-odd{
            background: none repeat scroll 0 0 cadetblue;
            color: beige;
        }
        #tblGateways,tbody,tr.ui-datatable-odd td input{
            background-color: cadetblue;
        }

        table,tbody,tr,td,div.ui-icon-circle-triangle-e{
            background-position: 0 -192px;
        }
        table,tbody,tr,td,div.ui-icon-circle-triangle-s{
            background-position: -16px -192px;
        }
        div.ui-row-toggler{
            display: block;
            margin-right: auto;
            margin-left: auto;
        }
        .ui-widget .ui-organigram{
            justify-content: center;
            display: flex;
        }
        .ui-organigram .ui-organigram-node.root {
            background-image: url('/UtilitySync/faces/login.xhtml/faces/javax.faces.resource/images/1.1.Location.png');
            background-size: 100px 100px;
            background-repeat: no-repeat;
            background-color: purple;
            bottom: 0;
            box-shadow: none;
            min-height: 100px;
        }
        .ui-organigram .ui-organigram-node.villa {
            background-image: url('/UtilitySync/faces/login.xhtml/faces/javax.faces.resource/images/2.1.Villa.png');
            background-size: 100px 100px;
            background-repeat: no-repeat;
            background-color: white;
            bottom: 0;
            box-shadow: none;
            min-height: 105px;
        }
        .ui-organigram .ui-organigram-node.building {
            background-image: url('/UtilitySync/faces/login.xhtml/faces/javax.faces.resource/images/2.5.LowRiseBuilding.png');
            background-size: 100px 100px;
            background-repeat: no-repeat;
            background-color: white;
            bottom: 0;
            line-height: 1.85;
            box-shadow: none;
            min-height: 105px;
        }
        .ui-organigram .ui-organigram-node.floor {
            background: #93e7ff;
            background: -moz-linear-gradient(top, #93e7ff 0%, #007efc 100%);
            background: -webkit-linear-gradient(top, #93e7ff 0%, #007efc 100%);
            background: linear-gradient(to bottom, #93e7ff 0%, #007efc 100%);
            background-image: url('/UtilitySync/faces/login.xhtml/faces/javax.faces.resource/images/greenmarker.png');
            background-size: 100px 100px;
            background-repeat: no-repeat;
            background-color: white;
            bottom: 0;
            line-height: 1.85;
            box-shadow: none;
            min-height: 105px;
        }
        .ui-organigram .ui-organigram-node.gateway {
            background: #93e7ff;
            background: -moz-linear-gradient(top, #93e7ff 0%, #007efc 100%);
            background: -webkit-linear-gradient(top, #93e7ff 0%, #007efc 100%);
            background: linear-gradient(to bottom, #93e7ff 0%, #007efc 100%);
            background-image: url('/UtilitySync/faces/login.xhtml/faces/javax.faces.resource/images/5.4.GW.png');
            background-size: 100px 100px;
            background-repeat: no-repeat;
            background-color: white;
            bottom: 0;
            line-height: 1.85;
            box-shadow: none;
            min-height: 105px;
        }
        .ui-organigram .ui-organigram-node.meter {
            background: #88c048;
            background: -moz-linear-gradient(top, #88c048 0%, #69a038 100%);
            background: -webkit-linear-gradient(top, #88c048 0%, #69a038 100%);
            background: linear-gradient(to bottom, #88c048 0%, #69a038 100%);
            background-repeat: no-repeat;
            background-size: 100px 100px;
            background-color: white;
            bottom: 0;
            line-height: 1.85;
            box-shadow: none;
            min-height: 100px;
        }
        .ui-organigram .ui-organigram-node.meter.water {
            background-image: url('../resources/images/5.1.WaterMeter.png');
        }
        .ui-organigram .ui-organigram-node.meter.electric {
            background-image: url('../resources/images/5.2.ElectricMeter.png');
        }
        .ui-organigram .target{
            justify-content: center;
        }
        .label-bottom-center{
            display:inline-block;
            margin-top: 72.5%;
            margin-bottom: 0%;
            background-color: white; 
        }
        .ui-icon.ui-icon-minusthick{
            margin-top: -9px;
        }
        .datatable-input-text{
            width: 100%;
        }
    </style>
</html>